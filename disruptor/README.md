#### RingBuffer环形缓冲区（注意：缓冲区大小最好是2的N次方，有利于基于二进制的计算机进行计算）
![object](https://github.com/firechiang/mq-test/blob/master/disruptor/image/ring.svg)
#### 一、RingBuffer的占位算法是每来一个元素Count计数器加1，元素存储位置计算公式：Count计数器 % 缓冲区大小 = 存储位置
```bash
# 缓存区的大小
int size = 8;
第0个来的数据存储位置：(0 % size) = 0
第1个来的数据存储位置：(1 % size) = 1
第2个来的数据存储位置：(2 % size) = 2
第3个来的数据存储位置：(3 % size) = 3
第4个来的数据存储位置：(4 % size) = 4
第5个来的数据存储位置：(5 % size) = 5
第6个来的数据存储位置：(6 % size) = 6
第7个来的数据存储位置：(7 % size) = 7
第8个来的数据存储位置：(8 % size) = 0
第9个来的数据存储位置：(9 % size) = 1
第10个来的数据存储位置：(10 % size) = 2
第11个来的数据存储位置：(11 % size) = 3
```
#### 二、内存屏障（内存数据相互不会收到影响）简要说明
```bash
1，对应JAVA的valotile变量和happens before语义
2，Linux的smp_wmb()/smp_rmb()函数
```
#### 三、内存中的缓存行和伪共享简要说明
```bash
1，缓存系统中是以缓存行（cache line）为单位存储
2，缓存行是2的整数幂个连续字节，一般为32-256个字节
3，最常见的缓存行的大小是64个和128个字节
4，当多线程修改相互独立的变量时（前提是多变量在同一个缓存行里面），如果这些变量共享在同一个缓存行，就会无意中影响彼此的性能，这个就是伪共享
```
